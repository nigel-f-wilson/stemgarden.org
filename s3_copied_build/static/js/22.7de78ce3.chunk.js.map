{"version":3,"sources":["pages/resources/math-games/magic-square-games/tic-tac-toe/components/panels/StatusHeader.js","pages/resources/math-games/magic-square-games/tic-tac-toe/components/panels/Commentary.js","pages/resources/math-games/magic-square-games/tic-tac-toe/components/panels/CoachPanel.js","pages/resources/math-games/magic-square-games/tic-tac-toe/pages/PlayWithCoach.js"],"names":["StatusHeader","props","moveList","gameStatus","status","Typography","pt","color","align","component","variant","noWrap","gutterBottom","statusMessage","Commentary","outcomeMap","next","nextPlayer","prev","commentLabel","currentStatus","currentOutcome","get","previousOutcome","getParent","label","length","charAt","Number","winningMoves","urgentDefensiveMoves","doubleAttackingMoves","getCommentLabel","Box","sx","width","comment","getCommentary","CoachPanel","showSolution","toggleShowSolution","handleUndoClick","UndoMoveButton","Button","onClick","disabled","flexGrow","mx","mr","display","alignContent","icon","faRotateLeft","size","ShowSolutionButton","faQuestion","Container","height","flexDirection","justifyContent","mb","HomeButton","PlayWithCoach","useState","setMoveList","setShowSolution","overflow","bgcolor","Board","handleSquareClick","squareClicked","gameOver","console","log","includes","updatedMoveList","concat","shortenedMoveList","slice"],"mappings":"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","file":"static/js/22.7de78ce3.chunk.js","sourcesContent":["import React from 'react';\nimport { Typography } from '@mui/material';\n\n\nimport { status } from \"../../../magicSquareHelpers\";\n\n\nexport default function StatusHeader(props) {\n  const { moveList, } = props\n  \n  const gameStatus = status(moveList);\n\n  function statusMessage(gameStatus) {\n    switch (gameStatus) {\n      case \"xWins\":\n        return \"Game Over. X Wins!\"\n      case \"oWins\":\n        return \"Game Over. O Wins!\"\n      case \"draw\":\n        return \"Game Over! Draw.\"\n      case \"xNext\":\n        return \"X's turn.\"\n      case \"oNext\":\n        return \"O's turn.\"\n      default:\n        return \"Error\";\n    }\n  }\n\n  return (\n    <Typography pt={2} color=\"common.white\" align='center' component='h1' variant='h4' noWrap gutterBottom>\n      {statusMessage(gameStatus)}\n    </Typography>\n  )\n}\n\n","import React from 'react';\n\nimport { nextPlayer, status, getParent } from \"../../../magicSquareHelpers\";\nimport { winningMoves, urgentDefensiveMoves, doubleAttackingMoves } from \"../../../getBotMove\";\n\n\nimport { Box, Typography } from '@mui/material';\n\nexport default function Commentary(props) {\n  const { moveList, outcomeMap } = props\n\n  let next = (nextPlayer(moveList) === \"xNext\") ? \"X\" : \"O\"\n  let prev = (nextPlayer(moveList) === \"xNext\") ? \"O\" : \"X\"\n\n  let commentLabel = getCommentLabel(moveList)\n\n  return (\n    <Box sx={{ \n        color: 'common.white',\n        width: '100%',\n    }}>\n      <Typography align='justify' component='p' variant='body1' gutterBottom>\n        {getCommentary(commentLabel, next)}\n      </Typography>\n    </Box>\n  )\n\n  function getCommentLabel(moveList) {  \n    let currentStatus = status(moveList)\n    let currentOutcome = outcomeMap.get(moveList)\n    let previousOutcome = outcomeMap.get(getParent(moveList));\n    \n    let label = \"error\"\n    if (moveList.length === 0) {\n        label = \"newGame\"\n    }\n    else if (currentStatus === \"xWins\") {\n        label = \"xWins\"\n    }\n    else if (currentStatus === \"oWins\") {\n        label = \"oWins\"\n    }\n    else if (currentStatus === \"draw\") {\n        label = \"draw\"\n    }\n    else if (moveList.length === 1) {\n        if (moveList.charAt(0) === \"5\") {\n            label = \"centerOpening\"\n        }\n        else if (Number(moveList.charAt(0)) % 2 === 0) {\n            label = \"cornerOpening\"\n        }\n        else {\n            label = \"edgeOpening\"\n        }\n    } \n    else if (winningMoves(moveList).length > 0 ) {\n        label = \"immediateWin\"\n    }\n    else if (urgentDefensiveMoves(moveList).length === 1) {         \n        label = \"urgentDefence\"\n    }\n    else if (urgentDefensiveMoves(moveList).length === 2) {\n        label = \"losing\"\n    }\n    else if (doubleAttackingMoves(moveList).length > 0) {\n        label = \"doubleAttack\"\n    }\n    else if (previousOutcome === \"draw\" && currentOutcome === \"draw\") { \n        label = \"sound\"\n    }\n    else if (previousOutcome === \"draw\" && (currentOutcome === \"xWins\" || currentOutcome === \"oWins\")) {  // in testing\n        label = \"mistake\"\n    }\n    else if (previousOutcome === \"oWins\" && (currentOutcome === \"xWins\" || currentOutcome === \"draw\")) {   // in testing\n        label = \"mistake\"\n    }\n    else if (previousOutcome === \"xWins\" && (currentOutcome === \"oWins\" || currentOutcome === \"draw\")) {   // in testing\n        label = \"mistake\"\n    }\n    else if (currentOutcome === \"draw\" && (previousOutcome === \"xWins\" || previousOutcome === \"oWins\")) {\n        label = \"missedWin\"\n    }\n    return label\n  }\n\n  function getCommentary(commentLabel, next) {\n    let comment = `Error in get commentary.  Called with commentLabel: ${commentLabel}`\n    switch (commentLabel) {\n        case \"newGame\":\n            comment = `New Game. X always goes first. It may look like X has 9 different \n            options but, considering symmetry, there are really only 3: Center, Edge, or Corner. \n            Do any of them set X up to force a win? Is there any move for X that would be a 'mistake'?`\n            break;\n        case \"centerOpening\":\n            comment = `The Center Opening is the most popular. I think this is because there are more three-in-a-rows that\n            include the center square than the edges and corners. Though X is still on track for a draw, the center opening\n            is the easiest for O to defend against because, considering symmetry, O really only has two options, edge or corner.\n            One is good and keeps O on track for a draw. The other is bad and opens the door for X to force a win.`\n            break;\n        case \"cornerOpening\":\n            comment = `The Corner Opening can lead X to a winning double attack if O makes a mistake on their first move. \n            O has 5 non-symetrical options in this position, however, the only sound move that O has in this position is also the most\n            intuitive one. Proove this to yourself by going through O's 4 losing options and finding a plan that guarantees X \n            a victory in each one.`\n            break;\n        case \"edgeOpening\":\n            comment = `The Edge Opening is my personal favorite. It is the least commonly played and is the most complex to analyze.\n            There are many tricks and traps in this opening that both players can take advantage of!\n            O has five non-symmetrical options. Don't settle for just finding one move that lets O guarantee a draw,\n            dig into each of the five options and find the ones that maximize the chances X will make a mistake!`\n            break;\n        case \"immediateWin\":\n            comment = `${next} goes next and has the ability to win immediately! That means ${prev} must have made a mistake \n            earlier in the game. Go back and see if you can find the mistake and choose the better option instead.`\n            break;\n        case \"urgentDefence\":\n            comment = `${next} goes next and has an urgent defensive move they must make in order to not lose on the next turn!`\n            break;\n        case \"losing\":\n            comment = `${next} goes next, has no immediate way to win and ${prev} has more than one threat, meaning ${next} cannot \n            defend against them all. Defeat is on its way no matter what ${next} does now. This move is not the mistake though! \n            Go back and find the mistake that allowed ${prev} to create this double attack.`\n            break;\n        case \"doubleAttack\":\n            comment = `Though ${next} cannot win this turn, they can create a double attack, setting up for a\n            guaranteed win on their next turn no matter what ${prev} does. Don't settle for a move that only creates \n            one threat, you need to make two simultaneous threats in order to win.`\n            break;\n        case \"mistake\":\n            comment = `A mistake! Before that last move ${prev} was on track for a draw. That last move  \n            has given ${next} the opportunity to force a win. ${next} cannot create a double attack quite yet, so they will\n            have to look further into the future to see what forced continuations can lead them to making a double attack on\n            their next move. Don't settle for a draw anymore! Make the most of your opponent's mistake.`\n            break;\n        case \"missedWin\":\n            comment = `${next} made the first mistake and gave ${prev} a chance to force a win, but ${prev} replied with\n            another mistake and now they have missed missed that chance to win! Look for forcing moves that lead to double\n            attacks and you will avoid mistakes like the one ${prev} just made.`\n            break;\n        case \"sound\":\n            comment = `Good. The last move by ${prev} was \"sound\" meaning it has not hurt their worst case outcome: previously\n            on track for a draw, still on track for a draw.`\n            break;\n        case \"xWins\":\n            comment = `X has won the game! That means O must have made a mistake along the way.\n            Go back and see if you can find it on your own. If not, check the hints. In starting position, all 9 squares are Yellow, \n            indicating that no matter which one X chooses they will be on track for a draw. When Red squares appear in the hints these \n            indicate moves that would be mistakes, moves that would grant the opponent a chance to win.  When Green squares appear in \n            the hints these indicate moves that either win immediately or force a win in the next few moves.\n            Choosing a red square always a \"mistake\", but so is choosing a yellow square when you had a green option!`\n            break;\n        case \"oWins\":\n            comment = `O has won the game! That means X must have made a mistake along the way.\n            Go back and see if you can find it on your own. If not, check the hints. In starting position, all 9 squares are Yellow, \n            indicating that no matter which one X chooses they will be on track for a draw. When Red squares appear in the hints these \n            indicate moves that would be mistakes, moves that would grant the opponent a chance to win.  When Green squares appear in \n            the hints these indicate moves that either win immediately or force a win in the next few moves.\n            Choosing a red square always a \"mistake\", but so is choosing a yellow square when you had a green option!`\n            break;\n        case \"draw\":\n            comment = `The game has ended a draw. What did you expect? `\n            break;\n        default:\n            break;\n      }\n      return comment\n\n  }\n}","import React from 'react';\n\nimport { Box, Container, Button } from '@mui/material';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faRotateLeft, faQuestion } from '@fortawesome/free-solid-svg-icons';\n\n// Custom Components\nimport HomeButton from \"../buttons/HomeButton\";\nimport StatusHeader from './StatusHeader';\nimport Commentary from \"./Commentary\";\n\nexport default function CoachPanel(props) {\n  const { moveList, showSolution, toggleShowSolution, handleUndoClick, outcomeMap } = props\n\n  const UndoMoveButton = () => {\n    return (\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={() => handleUndoClick()}\n        disabled={moveList.length === 0}\n        sx={{ flexGrow: 2, mx: 1 }}\n      >\n        <Box mr={1} display=\"flex\" alignContent=\"center\" >\n          <FontAwesomeIcon icon={faRotateLeft} size='lg' />\n        </Box>\n        Undo\n      </Button>\n    )\n  }\n  \n  const ShowSolutionButton = () => {\n      return (\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => toggleShowSolution()}\n          sx={{ flexGrow: 2, mx: 1 }}\n        >\n          <Box mr={2} display=\"flex\" alignContent=\"center\" >\n            <FontAwesomeIcon icon={faQuestion} size='lg' />\n          </Box>\n          {showSolution ? \"Hide Solution\" : \"Show Solution\"}\n        </Button>\n      )\n  }\n  \n\n  return (\n    <Container \n      sx={{ \n        width: '100%',\n        height: '45%',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-between',\n      }}\n    >\n      <Box >\n        <StatusHeader moveList={moveList} />\n        <Commentary \n          moveList={moveList} \n          outcomeMap={outcomeMap}\n        />\n      </Box>\n      <Box mb={2} height={40} display='flex' justifyContent='space-between' >\n        <ShowSolutionButton \n          showSolution={showSolution}\n          toggleShowSolution={toggleShowSolution}\n        />\n        <UndoMoveButton />\n        <HomeButton />\n      </Box>\n    </Container>\n  )\n}\n\n\n","import React, { useState } from 'react';\n// import { useOutletContext } from \"react-router-dom\";\n\nimport { gameOver } from \"../../magicSquareHelpers\";\nimport Board from \"../components/Board\";\nimport CoachPanel from \"../components/panels/CoachPanel\";\n\nimport { Box } from '@mui/material';\n\nexport default function PlayWithCoach(props) {\n  const { outcomeMap } = props\n  // const [outcomeMap] = useOutletContext();\n\n  const startingPosition = \"\" \n  const [moveList, setMoveList] = useState(startingPosition)\n  const [showSolution, setShowSolution] = useState(false);\n\n  // CLICK HANDLERS\n  function handleSquareClick(squareClicked) {\n    if (gameOver(moveList)) {\n      console.log(\"return without effects from handleSquareClick(). The Game is already over.\")\n      return;\n    }\n    if (moveList.includes(squareClicked)) {\n      console.log(\"return without effects from handleSquareClick(). That square has already been claimed.\")\n      return;\n    }\n    let updatedMoveList = moveList.concat(squareClicked)\n    setMoveList(updatedMoveList)\n    setShowSolution(false)\n  }\n\n  function handleUndoClick() {\n    const shortenedMoveList = moveList.slice(0, moveList.length - 1)\n    setShowSolution(false)\n    setMoveList(shortenedMoveList)\n  }\n\n  function toggleShowSolution() {\n    setShowSolution(showSolution => !showSolution)\n  }\n\n  return (\n    <Box \n      width='100%' \n      height='calc(100vh - 96px)'\n      overflow='hidden'\n      bgcolor='common.black'\n      color='common.white'\n    >\n      <Board \n        moveList={moveList}\n        showSolution={showSolution}\n        handleSquareClick={handleSquareClick}\n        outcomeMap={outcomeMap}\n      />\n\n      <CoachPanel\n        moveList={moveList}\n        showSolution={showSolution}\n        toggleShowSolution={toggleShowSolution}\n        handleUndoClick={handleUndoClick}\n        outcomeMap={outcomeMap}\n      />\n\n    </Box>\n  )\n}\n\n"],"sourceRoot":""}